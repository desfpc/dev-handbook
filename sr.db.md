[üìö –°–∞–¥—Ä–∂–∞—ò](README.sr.md)

- [üíæ –ë–∞–∑–µ –ø–æ–¥–∞—Ç–∞–∫–∞](#-–±–∞–∑–µ-–ø–æ–¥–∞—Ç–∞–∫–∞)
  - [–¢—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–µ, –Ω–∏–≤–æ–∏ –∏–∑–æ–ª–∞—Ü–∏—ò–µ –∏ –∫–æ–ª–∏–∑–∏—ò–µ —É –°–£–ë–î](#-—Ç—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–µ-–Ω–∏–≤–æ–∏-–∏–∑–æ–ª–∞—Ü–∏—ò–µ-–∏-–∫–æ–ª–∏–∑–∏—ò–µ-—É-—Å—É–±–¥)
  - [–ò–Ω–¥–µ–∫—Å–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ SQL —É–ø–∏—Ç–∞](#-–∏–Ω–¥–µ–∫—Å–∏-–∏-–∞–Ω–∞–ª–∏–∑–∞-sql-—É–ø–∏—Ç–∞-explain)
  - [SQL: –ì—Ä—É–ø–∏—Å–∞—ö–µ, JOIN-–æ–≤–∏ –∏ —Ç–µ—Ö–Ω–∏–∫–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—ò–µ](#-sql-–≥—Ä—É–ø–∏—Å–∞—ö–µ-join–æ–≤–∏-–∏-—Ç–µ—Ö–Ω–∏–∫–µ-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—ò–µ-—Å–ª–æ–∂–µ–Ω–∏—Ö-—É–ø–∏—Ç–∞)
  - [–ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Å–∞—ö–µ, —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—ò–∞ –∏ —à–∞—Ä–¥–∏–Ω–≥](#-–ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Å–∞—ö–µ-—Ä–µ–ø–ª–∏–∫–∞—Ü–∏—ò–∞-–∏-—à–∞—Ä–¥–∏–Ω–≥-—É-—Å—É–±–¥)
  - [–ö–æ–ª–æ–Ω—Å–∫–µ –±–∞–∑–µ –ø–æ–¥–∞—Ç–∞–∫–∞ –∏ ClickHouse](#-–∫–æ–ª–æ–Ω—Å–∫–µ-–±–∞–∑–µ-–ø–æ–¥–∞—Ç–∞–∫–∞-–∏-clickhouse)
  - [NoSQL –∏ MongoDB](#—É–≤–æ–¥-—É-nosql-–∏-mongodb)
  - [Redis –∏ KeyDB](#-redis-–∏-keydb-–æ—Å–Ω–æ–≤–µ-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∏-–ø—Ä–µ–¥–Ω–æ—Å—Ç–∏)

---

# üíæ –ë–∞–∑–µ –ø–æ–¥–∞—Ç–∞–∫–∞

# üìÅ –¢—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–µ, –Ω–∏–≤–æ–∏ –∏–∑–æ–ª–∞—Ü–∏—ò–µ –∏ –∫–æ–ª–∏–∑–∏—ò–µ —É –°–£–ë–î

## ACID

**ACID** ‚Äî —Ç–æ —Å—É —á–µ—Ç–∏—Ä–∏ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª–Ω–∞ —Å–≤–æ—ò—Å—Ç–≤–∞ —Ç—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–∞:

- **Atomicity (–ê—Ç–æ–º–∏—á–Ω–æ—Å—Ç)**
  > –¢—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–∞ —Å–µ –∏–ª–∏ –∏–∑–≤—Ä—à–∞–≤–∞ —É –ø–æ—Ç–ø—É–Ω–æ—Å—Ç–∏, –∏–ª–∏ —Å–µ –Ω–µ –∏–∑–≤—Ä—à–∞–≤–∞ —É–æ–ø—à—Ç–µ. –ê–∫–æ —Å–µ –¥–æ–≥–æ–¥–∏ –≥—Ä–µ—à–∫–∞ —É –±–∏–ª–æ –∫–æ—ò–æ—ò —Ñ–∞–∑–∏, –¥–æ–ª–∞–∑–∏ –¥–æ **–ø–æ–≤—Ä–∞—Ç–∫–∞ (rollback)**.

- **Consistency (–ö–æ–Ω–∑–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç)**
  > –ù–∞–∫–æ–Ω –∑–∞–≤—Ä—à–µ—Ç–∫–∞ —Ç—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–µ, –±–∞–∑–∞ –ø–æ–¥–∞—Ç–∞–∫–∞ –º–æ—Ä–∞ –±–∏—Ç–∏ —É **–∫–æ–Ω–∑–∏—Å—Ç–µ–Ω—Ç–Ω–æ–º —Å—Ç–∞—ö—É**: —Å–≤–∞ –æ–≥—Ä–∞–Ω–∏—á–µ—ö–∞ —Å—É –∏—Å–ø–æ—à—Ç–æ–≤–∞–Ω–∞, –ø–æ–¥–∞—Ü–∏ —Å—É –≤–∞–ª–∏–¥–Ω–∏. –£—Å–ø–µ—à–Ω–∞ —Ç—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–∞ **–Ω–µ –Ω–∞—Ä—É—à–∞–≤–∞** –ª–æ–≥–∏—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ç–µ—Ç.

- **Isolation (–ò–∑–æ–ª–∞—Ü–∏—ò–∞)**
  > –ü–∞—Ä–∞–ª–µ–ª–Ω–µ —Ç—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–µ **–Ω–µ —Å–º–µ—ò—É —É—Ç–∏—Ü–∞—Ç–∏ —ò–µ–¥–Ω–∞ –Ω–∞ –¥—Ä—É–≥—É**. –ö–æ–Ω—Ñ–ª–∏–∫—Ç–Ω–µ –æ–ø–µ—Ä–∞—Ü–∏—ò–µ —Å–µ –∏–∑–æ–ª—É—ò—É. –£ —Ä–µ–∞–ª–Ω–æ—Å—Ç–∏ —Å–µ –ø–æ—Å—Ç–∏–∂–µ **–∫—Ä–æ–∑ –Ω–∏–≤–æ–µ –∏–∑–æ–ª–∞—Ü–∏—ò–µ** (–≤–∏–¥–∏ –¥–æ–ª–µ).

- **Durability (–¢—Ä–∞—ò–Ω–æ—Å—Ç)**
  > –ù–∞–∫–æ–Ω –ø–æ—Ç–≤—Ä–¥–µ (COMMIT), –ø—Ä–æ–º–µ–Ω–µ —Å–µ —á—É–≤–∞—ò—É **–∑–∞—É–≤–µ–∫**, —á–∞–∫ –∏ —É —Å–ª—É—á–∞—ò—É –Ω–µ—Å—Ç–∞–Ω–∫–∞ —Å—Ç—Ä—É—ò–µ –∏–ª–∏ –æ—Ç–∫–∞–∑–∞ —Ö–∞—Ä–¥–≤–µ—Ä–∞.


## üè∞ –ù–∏–≤–æ–∏ –∏–∑–æ–ª–∞—Ü–∏—ò–µ (Isolation Levels)

| –ù–∏–≤–æ              | –®—Ç–∞ –¥–æ–∑–≤–æ—ô–∞–≤–∞                               | –†–∞—ö–∏–≤–æ—Å—Ç                  |
|-------------------|---------------------------------------------|-----------------------------|
| **READ UNCOMMITTED** | –í–∏–¥—ô–∏–≤–µ —Å—É —á–∞–∫ –∏ **–Ω–µ–ø–æ—Ç–≤—Ä—í–µ–Ω–µ** –ø—Ä–æ–º–µ–Ω–µ     | Dirty Read                 |
| **READ COMMITTED**   | –í–∏–¥—ô–∏–≤–µ —Å—É —Å–∞–º–æ **–ø–æ—Ç–≤—Ä—í–µ–Ω–µ** –ø—Ä–æ–º–µ–Ω–µ     | Non-repeatable Read        |
| **REPEATABLE READ** *(InnoDB –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–Ω–æ)* | –ü–æ–Ω–æ–≤—ô–µ–Ω–∏ SELECT —É –æ–∫–≤–∏—Ä—É —Ç—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–µ –≤—Ä–∞—õ–∞ –∏—Å—Ç–æ* | Phantom Read              |
| **SERIALIZABLE**     | –ü–æ—Ç–ø—É–Ω–∞ –∏–∑–æ–ª–∞—Ü–∏—ò–∞, —Å–≤–µ —Ç—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–µ –∫–∞–æ –¥–∞ —Å—É **—Å–µ–∫–≤–µ–Ω—Ü–∏—ò–∞–ª–Ω–µ** | –°–º–∞—ö–µ—ö–µ –ø–∞—Ä–∞–ª–µ–ª–∏–∑–º–∞     |

### –ü—Ä–∏–º–µ—Ä–∏:
```sql
SET TRANSACTION ISOLATION LEVEL READ COMMITTED;
START TRANSACTION;
SELECT * FROM users WHERE status = 'active';
COMMIT;
```


## üìÇ –ü–æ—Ç–µ–Ω—Ü–∏—ò–∞–ª–Ω–µ –∫–æ–ª–∏–∑–∏—ò–µ –∏ –≥—Ä–µ—à–∫–µ

- **Deadlock (—É–∑–∞—ò–∞–º–Ω–æ –±–ª–æ–∫–∏—Ä–∞—ö–µ)**  
  T1 –±–ª–æ–∫–∏—Ä–∞ —Ä–µ–¥ –∫–æ—ò–∏ —á–µ–∫–∞ T2. T2 –±–ª–æ–∫–∏—Ä–∞ —Ä–µ—Å—É—Ä—Å –∫–æ—ò–∏ —á–µ–∫–∞ T1. MySQL **–∞—É—Ç–æ–º–∞—Ç—Å–∫–∏ –∑–∞–≤—Ä—à–∞–≤–∞ —ò–µ–¥–Ω—É –æ–¥ —ö–∏—Ö**.
  ‚úÖ –ê–Ω–∞–ª–∏–∑–∞ –ø—Ä–µ–∫–æ: `SHOW ENGINE INNODB STATUS`

- **Phantom Read**  
  `SELECT COUNT(*)` –≤—Ä–∞—õ–∞ 100. –î–æ–∫ —ò–µ —Ç—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–∞ –∞–∫—Ç–∏–≤–Ω–∞, –¥—Ä—É–≥–∞ –¥–æ–¥–∞—ò–µ —Ä–µ–¥. –ü–æ–Ω–æ–≤—ô–µ–Ω–∏ `SELECT` ‚Äî –≤–µ—õ 101.

- **Non-repeatable Read**  
  –ü—Ä–æ—á–∏—Ç–∞–ª–∏ —Å–º–æ —Ä–µ–¥, –∑–∞—Ç–∏–º –≥–∞ —ò–µ –Ω–µ–∫–æ –¥—Ä—É–≥–∏ –∞–∂—É—Ä–∏—Ä–∞–æ. –ü–æ–Ω–æ–≤–Ω–æ —á–∏—Ç–∞—ö–µ ‚Äî –≤–µ—õ –¥—Ä—É–≥–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç.


## üè¶ MySQL (MariaDB) ‚Äî InnoDB, —Ç—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–µ –∏ –∑–∞–∫—ô—É—á–∞–≤–∞—ö–∞

### üõ† InnoDB (–æ—Å–Ω–æ–≤–Ω–∏ –º–æ—Ç–æ—Ä –∑–∞ —Å–∫–ª–∞–¥–∏—à—Ç–µ—ö–µ)

- –ü–æ–¥—Ä–∂–∞–≤–∞ **—Ç—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–µ**, **–∏–∑–æ–ª–∞—Ü–∏—ò—É**, **–∞—É—Ç–æ–º–∞—Ç—Å–∫–∏ recovery**, **foreign keys**, **MVCC**.
- –ß—É–≤–∞ –ø–æ–¥–∞—Ç–∫–µ —É **–∫–ª–∞—Å—Ç–µ—Ä—Å–∫–∏–º –∏–Ω–¥–µ–∫—Å–∏–º–∞**, –ª–æ–≥—É—ò–µ –ø—Ä–æ–º–µ–Ω–µ —É redo/undo –ª–æ–≥–æ–≤–∏–º–∞.
- –ü–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–Ω–æ –∫–æ—Ä–∏—Å—Ç–∏ –Ω–∏–≤–æ **REPEATABLE READ**.

### üîí –ó–∞–∫—ô—É—á–∞–≤–∞—ö–∞ InnoDB:

- **Shared (S)** ‚Äî —á–∏—Ç–∞—ö–µ –¥–æ–∑–≤–æ—ô–µ–Ω–æ. –í–∏—à–µ —Ç—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–∞ –º–æ–∂–µ –∏—Å—Ç–æ–≤—Ä–µ–º–µ–Ω–æ —É–∑–µ—Ç–∏ `S` –Ω–∞ —ò–µ–¥–∞–Ω —Ä–µ–¥.
- **Exclusive (X)** ‚Äî –ø–∏—Å–∞—ö–µ. –°–∞–º–æ —ò–µ–¥–Ω–∞ —Ç—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–∞ –º–æ–∂–µ –¥—Ä–∂–∞—Ç–∏ `X`.

#### –ü—Ä–∏–º–µ—Ä–∏:
```sql
SELECT * FROM accounts WHERE id = 1 FOR UPDATE; -- –∑–∞–∫—ô—É—á–∞–≤–∞—ö–µ X (exclusive)
SELECT * FROM products WHERE id = 5 LOCK IN SHARE MODE; -- –∑–∞–∫—ô—É—á–∞–≤–∞—ö–µ S (shared)
```

### ‚ö° –ü—Ä–∏–º–µ—Ä Deadlock:
```sql
-- T1
START TRANSACTION;
UPDATE products SET stock = stock - 1 WHERE id = 1;
-- —á–µ–∫–∞ UPDATE –¥—Ä—É–≥–æ–≥ —Ä–µ–¥–∞...

-- T2
START TRANSACTION;
UPDATE products SET stock = stock - 2 WHERE id = 2;
UPDATE products SET stock = stock - 1 WHERE id = 1; -- —á–µ–∫–∞ T1
```

MySQL —õ–µ –æ—Ç–∫—Ä–∏—Ç–∏ deadlock –∏ –∑–∞–≤—Ä—à–∏—Ç–∏ —ò–µ–¥–Ω—É –æ–¥ —Ç—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–∞.


### ‚úÖ –ü—Ä–µ–ø–æ—Ä—É–∫–µ –∑–∞ –ø—Ä–æ–≥—Ä–∞–º–µ—Ä–∞:
- –ö–æ—Ä–∏—Å—Ç–∏ **BEGIN / COMMIT / ROLLBACK** –∫–∞–¥–∞ —Ä–∞–¥–∏—à —Å–∞ –≤–∏—à–µ –æ–¥ —ò–µ–¥–Ω–µ —Ç–∞–±–µ–ª–µ.
- –ó–∞ –∑–∞–∫—ô—É—á–∞–≤–∞—ö–µ —Ä–µ–¥–∞ –ø—Ä–∏ –ø—Ä–æ–º–µ–Ω–∞–º–∞ ‚Äî `SELECT ... FOR UPDATE`
- –î–æ–¥–∞—ò –∏–Ω–¥–µ–∫—Å–µ –Ω–∞ —Å–ø–æ—ô–Ω–µ –∫—ô—É—á–µ–≤–µ (`FOREIGN KEY`) ‚Äî –∏–Ω–∞—á–µ —õ–µ `JOIN`-–æ–≤–∏ –±–∏—Ç–∏ —Å–ø–æ—Ä–∏.
- –ü—Ä–µ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—ò–µ —Å–ª–æ–∂–µ–Ω–∏—Ö `JOIN`, `ORDER BY`, `GROUP BY` ‚Äî –ø–æ–∫—Ä–µ–Ω–∏ `EXPLAIN`

---

## üî∑ MyISAM (–∞–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ InnoDB, –∑–∞—Å—Ç–∞—Ä–µ–ª–∞)

- –ù–µ –ø–æ–¥—Ä–∂–∞–≤–∞ —Ç—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–µ!
- **–¢–∞–±–µ–ª–∞—Ä–Ω–∞ –∑–∞–∫—ô—É—á–∞–≤–∞—ö–∞** —É–º–µ—Å—Ç–æ —Ä–µ–¥–æ–≤–∞.
- –î–æ–±—Ä–æ —Ä–∞–¥–∏ –∑–∞ **—á–∏—Ç–∞—ö–µ**, –∞–ª–∏ —Å–µ –ª–æ—à–µ —Å–∫–∞–ª–∏—Ä–∞ –∑–∞ –ø–∏—Å–∞—ö–µ.
- –ù–µ –ø–æ–¥—Ä–∂–∞–≤–∞ `FOREIGN KEY`.

–ö–æ—Ä–∏—Å—Ç–∏ —Å–µ —Ä–µ—Ç–∫–æ. –ü—Ä–µ–ø–æ—Ä—É—á—É—ò–µ —Å–µ –∏–∑–±–µ–≥–∞–≤–∞—ö–µ —É –Ω–æ–≤–∏–º —Å–∏—Å—Ç–µ–º–∏–º–∞.


---

## üî∑ PostgreSQL

- –ü–æ–¥—Ä–∂–∞–≤–∞ **—Å–≤–µ –Ω–∏–≤–æ–µ –∏–∑–æ–ª–∞—Ü–∏—ò–µ** (–ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–Ω–æ: **READ COMMITTED**).
- –¢—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–µ —Å—Ç—Ä–æ–≥–æ –æ–¥–≥–æ–≤–∞—Ä–∞—ò—É ACID.
- –ö–æ—Ä–∏—Å—Ç–∏ —Å–æ–ø—Å—Ç–≤–µ–Ω—É –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—ò—É **MVCC**, –Ω–µ –∑–∞—Ö—Ç–µ–≤–∞ –∑–∞–∫—ô—É—á–∞–≤–∞—ö–∞ –∑–∞ —á–∏—Ç–∞—ö–µ.
- –î–æ–±—Ä–æ —É–ø—Ä–∞–≤—ô–∞ deadlock-–æ–≤–∏–º–∞, –ø—Ä—É–∂–∞ `pg_stat_activity`, `pg_locks`.
- –ü–æ–¥—Ä—à–∫–∞ –∑–∞ `SAVEPOINT`, `ROLLBACK TO`, `SET TRANSACTION ISOLATION LEVEL`

#### –ü—Ä–∏–º–µ—Ä —Ç—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–µ:
```sql
BEGIN;
UPDATE users SET balance = balance - 100 WHERE id = 1;
UPDATE users SET balance = balance + 100 WHERE id = 2;
COMMIT;
```

---

# üìä –ò–Ω–¥–µ–∫—Å–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ SQL —É–ø–∏—Ç–∞ (`EXPLAIN`)

---

## üìô –®—Ç–∞ —ò–µ –∏–Ω–¥–µ–∫—Å

–ò–Ω–¥–µ–∫—Å —É –°–£–ë–î ‚Äî —Ç–æ —ò–µ **—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–¥–∞—Ç–∞–∫–∞ –∫–æ—ò–∞ —É–±—Ä–∑–∞–≤–∞ –ø—Ä–µ—Ç—Ä–∞–≥—É**, —Ñ–∏–ª—Ç—Ä–∏—Ä–∞—ö–µ –∏ —Å–æ—Ä—Ç–∏—Ä–∞—ö–µ —Ä–µ–¥–æ–≤–∞ —É —Ç–∞–±–µ–ª–∏. –£ —Å—É—à—Ç–∏–Ω–∏, —Ç–æ —ò–µ **—Å–æ—Ä—Ç–∏—Ä–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** –∫–æ—ò–∞ –æ–º–æ–≥—É—õ–∞–≤–∞ –±—Ä–∑–æ –ø—Ä–æ–Ω–∞–ª–∞–∂–µ—ö–µ –ø–æ—Ç—Ä–µ–±–Ω–∏—Ö –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏ **–±–µ–∑ —Å–∫–µ–Ω–∏—Ä–∞—ö–∞ —Ü–µ–ª–µ —Ç–∞–±–µ–ª–µ**.

### ‚úÖ –û–ø—à—Ç–∏ –ø–æ—ò–º–æ–≤–∏

- **–ü—Ä–æ—Å—Ç –∏–Ω–¥–µ–∫—Å**: —ò–µ–¥–Ω–∞ –∫–æ–ª–æ–Ω–∞
- **–°–ª–æ–∂–µ–Ω–∏ (–∫–æ–º–ø–æ–∑–∏—Ç–Ω–∏)**: –≤–∏—à–µ –∫–æ–ª–æ–Ω–∞, —Ä–µ–¥–æ—Å–ª–µ–¥ **—ò–µ –±–∏—Ç–∞–Ω!**
- **–ü–æ–∫—Ä–∏–≤–∞—ò—É—õ–∏ (covering index)**: —Å–∞–¥—Ä–∂–∏ **—Å–≤–µ –∫–æ–ª–æ–Ω–µ** –ø–æ—Ç—Ä–µ–±–Ω–µ —É–ø–∏—Ç—É (—á–∏—Ç–∞—ö–µ —Å–µ –≤—Ä—à–∏ —Å–∞–º–æ –∏–∑ –∏–Ω–¥–µ–∫—Å–∞)
- **–ö–ª–∞—Å—Ç–µ—Ä—Å–∫–∏ –∏–Ω–¥–µ–∫—Å**: —Å–∞–¥—Ä–∂–∏ **—Å—Ç–≤–∞—Ä–Ω–µ —Ä–µ–¥–æ–≤–µ** —É –ª–∏—Å—Ç–æ–≤–∏–º–∞ —Å—Ç–∞–±–ª–∞ (InnoDB)

### üîç –ì–¥–µ –ø–æ–º–∞–∂—É –∏–Ω–¥–µ–∫—Å–∏:
- `WHERE column = value`
- `JOIN ON column`
- `ORDER BY indexed_column`
- `GROUP BY indexed_column`
- `DISTINCT indexed_column`

### ‚ùå –ì–¥–µ –∏–Ω–¥–µ–∫—Å–∏ –Ω–µ —Ä–∞–¥–µ:

| –õ–æ—à –æ–±—Ä–∞–∑–∞—Ü               | –ó–∞—à—Ç–æ —ò–µ –ª–æ—à                                      |
|-----------------------------|---------------------------------------------------|
| `LEFT(name, 3) = 'abc'`     | –§—É–Ω–∫—Ü–∏—ò–∞ –Ω–∞—Ä—É—à–∞–≤–∞ —Ä–µ–¥–æ—Å–ª–µ–¥ ‚Üí **–∏–Ω–¥–µ–∫—Å –Ω–µ —Ä–∞–¥–∏** |
| `status + 1 = 2`            | –ê—Ä–∏—Ç–º–µ—Ç–∏–∫–∞ –∏—Å–∫—ô—É—á—É—ò–µ –∏–Ω–¥–µ–∫—Å                      |
| `OR` –∏–∑–º–µ—í—É –∫–æ–ª–æ–Ω–∞        | –ß–µ—Å—Ç–æ –¥–æ–≤–æ–¥–∏ –¥–æ `FULL SCAN`                     |
| `LIKE '%abc'`               | –ù–µ–º–∞ –ø—Ä–µ—Ñ–∏–∫—Å–∞ ‚Üí –∏–Ω–¥–µ–∫—Å –Ω–∏—ò–µ –ø—Ä–∏–º–µ–Ω—ô–∏–≤               |
| `ORDER BY non_indexed_col` | –°–æ—Ä—Ç–∏—Ä–∞—ö–µ —É –º–µ–º–æ—Ä–∏—ò–∏, `Using filesort`            |


---

## üîπ –¢–∏–ø–æ–≤–∏ –∏–Ω–¥–µ–∫—Å–∞

| –¢–∏–ø         | –ù–∞–º–µ–Ω–∞ |
|--------------|------------|
| `PRIMARY`    | –ö–ª–∞—Å—Ç–µ—Ä—Å–∫–∏ –∏–Ω–¥–µ–∫—Å InnoDB (–ø–æ `id`) |
| `UNIQUE`     | –õ–æ–≥–∏—á–∫–∞ —ò–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–æ—Å—Ç (`email`, `username`) |
| `INDEX`      | –û–±–∏—á–∞–Ω –∏–Ω–¥–µ–∫—Å –∑–∞ —É–±—Ä–∑–∞—ö–µ –ø—Ä–µ—Ç—Ä–∞–≥–µ |
| `COMPOSITE`  | –í–∏—à–µ –∫–æ–ª–æ–Ω–∞ (`(a, b)`) |
| `COVERING`   | –ò–Ω–¥–µ–∫—Å –∫–æ—ò–∏ –ø–æ–∫—Ä–∏–≤–∞ —Å–≤–µ –∫–æ–ª–æ–Ω–µ SELECT-–∞ |
| `FULLTEXT`   | –ü—Ä–µ—Ç—Ä–∞–≥–∞ –ø–æ —Ç–µ–∫—Å—Ç—É (`MATCH ... AGAINST`) |
| `SPATIAL`    | –ì–µ–æ-–ø–æ–¥–∞—Ü–∏ (`POINT`, `POLYGON`) |

### –ü—Ä–∏–º–µ—Ä–∏:
```sql
-- –ò–Ω–¥–µ–∫—Å –ø–æ email-—É
CREATE INDEX idx_users_email ON users(email);

-- –ö–æ–º–ø–æ–∑–∏—Ç–Ω–∏ –∏–Ω–¥–µ–∫—Å
CREATE INDEX idx_status_created ON orders(status, created_at);
```

---

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–µ –ø–æ–¥–∞—Ç–∞–∫–∞ –∏–Ω–¥–µ–∫—Å–∞

### üîπ B-Tree / B+Tree (MySQL InnoDB, PostgreSQL)
- –û—Å–Ω–æ–≤–Ω–∏ —Ç–∏–ø –∑–∞ –≤–µ—õ–∏–Ω—É –∏–Ω–¥–µ–∫—Å–∞
- –£—Ä–µ—í–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Üí **–±—Ä–∑–∞ –±–∏–Ω–∞—Ä–Ω–∞ –ø—Ä–µ—Ç—Ä–∞–≥–∞**

### üîπ Hash
- –ù–µ—É—Ä–µ—í–µ–Ω (MySQL: MEMORY engine)
- –ü–æ–≥–æ–¥–∞–Ω —Å–∞–º–æ –∑–∞ **—ò–µ–¥–Ω–∞–∫–æ—Å—Ç `=`**
- –ù–µ —Ä–∞–¥–∏ —Å–∞ –æ–ø—Å–µ–∑–∏–º–∞, —Å–æ—Ä—Ç–∏—Ä–∞—ö–µ–º, `LIKE`

### üîπ FULLTEXT
- –°–∞–º–æ —É MyISAM/InnoDB
- –†–∞–¥–∏ —Å–∞ `MATCH() AGAINST()`
- –î–æ–±–∞—Ä –∑–∞ –ø—Ä–µ—Ç—Ä–∞–≥—É –ø—É–Ω–æ–≥ —Ç–µ–∫—Å—Ç–∞, –∞–ª–∏ –Ω–µ –∑–∞–º–µ—ö—É—ò–µ LIKE —É –ø–æ—Ç–ø—É–Ω–æ—Å—Ç–∏

### üîπ SPATIAL
- –ó–∞ –≥–µ–æ–º–µ—Ç—Ä–∏—ò—É: `POINT`, `LINE`, `POLYGON`
- –ö–æ—Ä–∏—Å—Ç–∏ —Å–µ —É GIS —Å—Ü–µ–Ω–∞—Ä–∏—ò–∏–º–∞

---

## üìà `EXPLAIN` –∏ –∞–Ω–∞–ª–∏–∑–∞ SQL —É–ø–∏—Ç–∞

–ö–æ–º–∞–Ω–¥–∞ `EXPLAIN` –ø–æ–∫–∞–∑—É—ò–µ **–∫–∞–∫–æ —õ–µ —Å–µ –∏–∑–≤—Ä—à–∏—Ç–∏ —É–ø–∏—Ç**: –∫–æ—ò–∏ –∏–Ω–¥–µ–∫—Å–∏ —Å–µ –∫–æ—Ä–∏—Å—Ç–µ, –∫–æ–ª–∏–∫–æ —Ä–µ–¥–æ–≤–∞ —Å–µ –ø—Ä–æ–≤–µ—Ä–∞–≤–∞ –∏ –¥–∞ –ª–∏ –ø–æ—Å—Ç–æ—ò–µ –ø—Ä–∏–≤—Ä–µ–º–µ–Ω–µ —Ç–∞–±–µ–ª–µ.

### –ü—Ä–∏–º–µ—Ä:
```sql
EXPLAIN SELECT * FROM users WHERE email = 'user@example.com';
```

### –ü–æ—ô–∞ `EXPLAIN`:

| –ü–æ—ô–µ           | –ó–Ω–∞—á–µ—ö–µ |
|----------------|----------|
| `id`           | –ë—Ä–æ—ò —É–ø–∏—Ç–∞ –∏–ª–∏ –ø–æ–¥—É–ø–∏—Ç–∞ |
| `select_type`  | –¢–∏–ø —É–ø–∏—Ç–∞ (`SIMPLE`, `PRIMARY`, `DERIVED` –∏—Ç–¥.) |
| `type`         | –¢–∏–ø –ø—Ä–∏—Å—Ç—É–ø–∞ (–Ω–∞—ò–±–æ—ô–µ: `const`, `ref`, `range`; –Ω–∞—ò–≥–æ—Ä–µ: `ALL`) |
| `possible_keys`| –ö–æ—ò–∏ –∏–Ω–¥–µ–∫—Å–∏ —Å—É –º–æ–≥–ª–∏ –±–∏—Ç–∏ –∫–æ—Ä–∏—à—õ–µ–Ω–∏ |
| `key`          | –ö–æ—ò–∏ –∏–Ω–¥–µ–∫—Å —Å–µ —Å—Ç–≤–∞—Ä–Ω–æ –∫–æ—Ä–∏—Å—Ç–∏ |
| `rows`         | –ü—Ä–∏–±–ª–∏–∂–∞–Ω –±—Ä–æ—ò —Ä–µ–¥–æ–≤–∞ –∑–∞ –ø—Ä–æ–≤–µ—Ä—É |
| `Extra`        | –î–æ–¥–∞—Ç–Ω–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ (`Using filesort`, `Using temporary` –∏ –¥—Ä.) |

### –î–∏—ò–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:
- **`ALL`** ‚Äî –ø–æ—Ç–ø—É–Ω–æ —Å–∫–µ–Ω–∏—Ä–∞—ö–µ (full scan)
- **`Using filesort`** ‚Äî —Å–æ—Ä—Ç–∏—Ä–∞—ö–µ —É –º–µ–º–æ—Ä–∏—ò–∏ (—Å–ø–æ—Ä–æ)
- **`Using temporary`** ‚Äî –∫—Ä–µ–∏—Ä–∞—ö–µ –ø—Ä–∏–≤—Ä–µ–º–µ–Ω–µ —Ç–∞–±–µ–ª–µ

#### –ü—Ä–∏–º–µ—Ä:
```sql
EXPLAIN SELECT * FROM orders WHERE status = 'paid' ORDER BY created_at DESC LIMIT 10;
```
–ê–∫–æ **–Ω–µ–º–∞ –∏–Ω–¥–µ–∫—Å–∞ –ø–æ `(status, created_at)`** ‚Üí –±–∏—õ–µ `filesort`.  
–ö—Ä–µ–∏—Ä–∞—ò –∏–Ω–¥–µ–∫—Å:
```sql
CREATE INDEX idx_status_created ON orders(status, created_at);
```

---

## üóÑ –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ—Å—Ç–∏ MySQL (InnoDB)

- –ö–ª–∞—Å—Ç–µ—Ä—Å–∫–∏ –∏–Ω–¥–µ–∫—Å = —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∫–ª–∞–¥–∏—à—Ç–µ—ö–∞ —Ç–∞–±–µ–ª–µ. `PRIMARY KEY` ‚Üí —Ñ–∏–∑–∏—á–∫–∏ —Ä–µ–¥–æ—Å–ª–µ–¥ —Ä–µ–¥–æ–≤–∞.
- –ê–∫–æ –Ω–µ–º–∞ PK –∏–ª–∏ UNIQUE, –∫—Ä–µ–∏—Ä–∞ —Å–µ **—Å–∫—Ä–∏–≤–µ–Ω–∏ —Å—É—Ä–æ–≥–∞—Ç–Ω–∏ –∫—ô—É—á** (`row_id`).
- –°–≤–∞–∫–∏ —Å–µ–∫—É–Ω–¥–∞—Ä–Ω–∏ –∏–Ω–¥–µ–∫—Å —Å–∞–¥—Ä–∂–∏ **—Ä–µ—Ñ–µ—Ä–µ–Ω—Ü—É –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä—Å–∫–∏ (PK)**.
- MySQL –∫–æ—Ä–∏—Å—Ç–∏ **B+Tree** —Å–∫–æ—Ä–æ –∑–∞ —Å–≤–µ —Ç–∏–ø–æ–≤–µ –∏–Ω–¥–µ–∫—Å–∞.
- –ú–æ–∂–µ—à –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ **`USE INDEX`**, `FORCE INDEX` –∑–∞ –Ω–∞–≤–æ—í–µ—ö–µ –∂–µ—ô–µ–Ω–æ–≥.

---

## üóÑ –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ—Å—Ç–∏ PostgreSQL

- –°–≤–∞–∫–∏ –∏–Ω–¥–µ–∫—Å —ò–µ **–∑–∞—Å–µ–±–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** (–Ω–∏—ò–µ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–æ–≤–∞–Ω –ø–æ –¥–µ—Ñ–æ–ª—Ç—É)
- `btree` ‚Äî –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–Ω–æ
- –ü–æ–¥—Ä—à–∫–∞ –∑–∞ **–≤–∏—à–µ–∫–æ–ª–æ–Ω—Å–∫–µ –∏ –¥–µ–ª–∏–º–∏—á–Ω–µ –∏–Ω–¥–µ–∫—Å–µ**
- –ò–º–∞ **GIN**, **GiST**, **BRIN**, **HASH**, **SP-GiST**:
  - **GIN** ‚Äî –±—Ä–∑–∞ –ø—Ä–µ—Ç—Ä–∞–≥–∞ —É `jsonb`, `array`, `tsvector`
  - **BRIN** ‚Äî –µ—Ñ–∏–∫–∞—Å–∞–Ω –Ω–∞ –≤–µ–ª–∏–∫–∏–º —Ç–∞–±–µ–ª–∞–º–∞ —Å–∞ –ø–æ–¥–∞—Ü–∏–º–∞ —É—Ä–µ—í–µ–Ω–∏–º –ø–æ –æ–ø—Å–µ–≥—É

### –ü—Ä–∏–º–µ—Ä –¥–µ–ª–∏–º–∏—á–Ω–æ–≥ –∏–Ω–¥–µ–∫—Å–∞:
```sql
CREATE INDEX idx_active_users ON users(email) WHERE active = true;
```

### –ê–Ω–∞–ª–∏–∑–∞ —É–ø–∏—Ç–∞:
```sql
EXPLAIN ANALYZE SELECT * FROM users WHERE active = true;
```

- `EXPLAIN` ‚Äî –ø—Ä–æ—Ü–µ–Ω–∞ –ø–ª–∞–Ω–∞
- `EXPLAIN ANALYZE` ‚Äî **—Å—Ç–≤–∞—Ä–Ω–æ –∏–∑–≤—Ä—à–∞–≤–∞—ö–µ** —Å–∞ –≤—Ä–µ–º–µ–Ω–æ–º –∏–∑–≤—Ä—à–µ—ö–∞

---

# üìä SQL: –ì—Ä—É–ø–∏—Å–∞—ö–µ, JOIN-–æ–≤–∏ –∏ —Ç–µ—Ö–Ω–∏–∫–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—ò–µ —Å–ª–æ–∂–µ–Ω–∏—Ö —É–ø–∏—Ç–∞

---

## üìÉ –ì—Ä—É–ø–∏—Å–∞—ö–µ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—ò–∞

SQL –æ–º–æ–≥—É—õ–∞–≤–∞ **–∞–≥—Ä–µ–≥–∞—Ü–∏—ò—É –ø–æ–¥–∞—Ç–∞–∫–∞** –ø–æ –≥—Ä—É–ø–∞–º–∞ —Ä–µ–¥–æ–≤–∞ –ø–æ–º–æ—õ—É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—ò–µ `GROUP BY` –∏ –∞–≥—Ä–µ–≥–∞—Ç–Ω–∏—Ö —Ñ—É–Ω–∫—Ü–∏—ò–∞.

### üìÑ –°—Ç–∞–Ω–¥–∞—Ä–¥–Ω–∞ —Ñ–æ—Ä–º–∞:
```sql
SELECT col1, SUM(col2) AS total
FROM tableName
WHERE condition
GROUP BY col1
HAVING total > 100;
```

| –ï–ª–µ–º–µ–Ω—Ç         | –ù–∞–º–µ–Ω–∞ |
|-----------------|------------|
| `SUM(col2)`     | –ê–≥—Ä–µ–≥–∞—Ç–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—ò–∞: —Å—É–º–∞ –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏ `col2` |
| `FROM`          | –ò–∑–≤–æ—Ä –ø–æ–¥–∞—Ç–∞–∫–∞, –º–æ–∂–µ –±–∏—Ç–∏ `JOIN` |
| `WHERE`         | –§–∏–ª—Ç–µ—Ä –ø—Ä–µ –≥—Ä—É–ø–∏—Å–∞—ö–∞ |
| `GROUP BY`      | –ì—Ä—É–ø–∏—Å–∞—ö–µ –ø–æ –∫–æ–ª–æ–Ω–∞–º–∞ |
| `HAVING`        | –§–∏–ª—Ç–µ—Ä –Ω–∞–∫–æ–Ω –∞–≥—Ä–µ–≥–∞—Ü–∏—ò–µ |

---

### üîó –ù–∞–ø—Ä–µ–¥–Ω–µ —Ç–µ—Ö–Ω–∏–∫–µ –≥—Ä—É–ø–∏—Å–∞—ö–∞

#### `ROLLUP`
–î–æ–¥–∞—ò–µ **–º–µ—í—É–∑–±–∏—Ä–Ω–µ —Ä–µ–¥–æ–≤–µ**:
```sql
SELECT department, team, SUM(salary)
FROM employees
GROUP BY department, team WITH ROLLUP;
```
–î–æ–±–∏—õ–µ–º–æ –∑–±–∏—Ä–æ–≤–µ –∑–∞ —Å–≤–∞–∫–∏ —Ç–∏–º, –æ–¥–µ—ô–µ—ö–µ –∏ —É–∫—É–ø–∞–Ω –∑–±–∏—Ä.

#### `CUBE`
–î–æ–¥–∞—ò–µ **—Å–≤–µ –º–æ–≥—É—õ–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏—ò–µ** –≥—Ä—É–ø–∏—Å–∞—ö–∞:
```sql
SELECT region, product, SUM(sales)
FROM sales_data
GROUP BY CUBE(region, product);
```

#### `GROUPING SETS`
–§–ª–µ–∫—Å–∏–±–∏–ª–Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª–∞ –Ω–∞–¥ –≥—Ä—É–ø–∞–º–∞:
```sql
SELECT manufacturer, product_count, SUM(price)
FROM products
GROUP BY GROUPING SETS (
  ROLLUP(manufacturer),
  (product_count),
  (manufacturer, product_count)
);
```

#### `OVER()` –∏ —Ñ—É–Ω–∫—Ü–∏—ò–µ –ø—Ä–æ–∑–æ—Ä–∞
–û–º–æ–≥—É—õ–∞–≤–∞ **–∞–≥—Ä–µ–≥–∞—Ü–∏—ò—É**, –∞–ª–∏ **–æ—Å—Ç–∞–≤—ô–∞ —Ä–µ–¥–æ–≤–µ –Ω–µ–ø—Ä–æ–º–µ—ö–µ–Ω–µ**:
```sql
SELECT user_id, region, salary,
       SUM(salary) OVER (PARTITION BY region) AS regional_total
FROM employees;
```
> –ö–æ—Ä–∏—Å—Ç–∏ —Å–µ —É PostgreSQL, MySQL 8+, SQLite, SQL Server, Oracle

---

## üîÄ JOIN ‚Äî —Å–ø–∞—ò–∞—ö–µ —Ç–∞–±–µ–ª–∞

–°–ø–∞—ò–∞—ö–∞ –æ–º–æ–≥—É—õ–∞–≤–∞—ò—É **–∫–æ–º–±–∏–Ω–æ–≤–∞—ö–µ —Ä–µ–¥–æ–≤–∞ –∏–∑ –¥–≤–µ –∏–ª–∏ –≤–∏—à–µ —Ç–∞–±–µ–ª–∞** –Ω–∞ –æ—Å–Ω–æ–≤—É –ª–æ–≥–∏—á–∫–æ–≥ —É—Å–ª–æ–≤–∞.

### üìã –¢–∏–ø–æ–≤–∏ JOIN:
<img src="https://raw.githubusercontent.com/desfpc/dev-handbook/master/sql_joins.png" alt="dev-handbook" width="500">

| JOIN | –ù–∞–º–µ–Ω–∞ | –ü—Ä–∏–º–µ—Ä |
|------|------------|--------|
| `INNER JOIN` | –°–∞–º–æ –ø–æ–¥—É–¥–∞—Ä–∞—ò—É—õ–∏ —Ä–µ–¥–æ–≤–∏ | `users INNER JOIN orders ON users.id = orders.user_id` |
| `LEFT JOIN`  | –°–≤–∏ –∏–∑ –ª–µ–≤–µ + –ø–æ–¥—É–¥–∞—Ä–∞—ò—É—õ–∏ –∏–∑ –¥–µ—Å–Ω–µ | `users LEFT JOIN orders` ‚Äî —á–∞–∫ –∏ –æ–Ω–∏ –±–µ–∑ –Ω–∞—Ä—É—ü–±–∏–Ω–∞ |
| `RIGHT JOIN` | –°–≤–∏ –∏–∑ –¥–µ—Å–Ω–µ + –ø–æ–¥—É–¥–∞—Ä–∞—ò—É—õ–∏ –∏–∑ –ª–µ–≤–µ | –°–∫–æ—Ä–æ —Å–µ –Ω–µ –∫–æ—Ä–∏—Å—Ç–∏ —É MySQL, –±–æ—ô–µ –ø—Ä–æ–º–µ–Ω–∏—Ç–∏ —Ä–µ–¥–æ—Å–ª–µ–¥ |
| `FULL OUTER JOIN` | –°–≤–∏ —Ä–µ–¥–æ–≤–∏ –∏–∑ –æ–±–µ —Ç–∞–±–µ–ª–µ | –ù–∏—ò–µ –¥–∏—Ä–µ–∫—Ç–Ω–æ –ø–æ–¥—Ä–∂–∞–Ω —É MySQL, –∞–ª–∏ –ø–æ—Å—Ç–æ—ò–∏ —É PostgreSQL |
| `CROSS JOIN` | –î–µ–∫–∞—Ä—Ç–æ–≤ –ø—Ä–æ–∏–∑–≤–æ–¥ (—Å–≤–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏—ò–µ) | –ö–æ—Ä–∏—Å—Ç–∏ —Å–µ —Ä–µ—Ç–∫–æ –∏ –æ–ø—Ä–µ–∑–Ω–æ |
| `SELF JOIN` | –¢–∞–±–µ–ª–∞ —Å–µ —Å–ø–∞—ò–∞ —Å–∞–º–∞ —Å–∞ —Å–æ–±–æ–º | `employees e1 JOIN employees e2 ON e1.manager_id = e2.id` |

### üîç –ü—Ä–∏–º–µ—Ä–∏:
```sql
-- –ö–æ—Ä–∏—Å–Ω–∏—Ü–∏ –±–µ–∑ –Ω–∞—Ä—É—ü–±–∏–Ω–∞
SELECT u.*
FROM users u
LEFT JOIN orders o ON u.id = o.user_id
WHERE o.id IS NULL;

-- –ü–æ—Å–ª–µ–¥—ö–∞ –Ω–∞—Ä—É—ü–±–∏–Ω–∞ —Å–≤–∞–∫–æ–≥ –∫–ª–∏—ò–µ–Ω—Ç–∞ (—Å–∞ —Ñ—É–Ω–∫—Ü–∏—ò–æ–º –ø—Ä–æ–∑–æ—Ä–∞)
SELECT *
FROM (
  SELECT *,
         ROW_NUMBER() OVER (PARTITION BY user_id ORDER BY created_at DESC) as rn
  FROM orders
) t
WHERE rn = 1;
```

---

## üß† –ö–æ—Ä–∏—Å–Ω–µ —Ç–µ—Ö–Ω–∏–∫–µ –∑–∞ –∏–∑–≥—Ä–∞–¥—ö—É —Å–ª–æ–∂–µ–Ω–∏—Ö —É–ø–∏—Ç–∞

### 1. ‚ùå –ó–∞–º–µ–Ω–∞ `OR` ‚Äî —Å–∞ `UNION`

```sql
-- –õ–æ—à–µ –∑–∞ –∏–Ω–¥–µ–∫—Å–µ:
SELECT * FROM users
WHERE status = 'active' OR email LIKE '%@example.com';

-- –ë–æ—ô–µ:
SELECT * FROM users WHERE status = 'active'
UNION
SELECT * FROM users WHERE email LIKE '%@example.com';
```
> –ó–∞—à—Ç–æ: `OR` –Ω–∞—Ä—É—à–∞–≤–∞ –∫–æ—Ä–∏—à—õ–µ—ö–µ –∏–Ω–¥–µ–∫—Å–∞, `UNION` –æ–º–æ–≥—É—õ–∞–≤–∞ –∏–∑–≤—Ä—à–∞–≤–∞—ö–µ —Å–≤–∞–∫–æ–≥ SELECT-–∞ –Ω–µ–∑–∞–≤–∏—Å–Ω–æ –∏ –∫–æ—Ä–∏—à—õ–µ—ö–µ –æ–¥–≥–æ–≤–∞—Ä–∞—ò—É—õ–∏—Ö –∏–Ω–¥–µ–∫—Å–∞.

### 2. ‚úÖ –ê–Ω—Ç–∏-`JOIN`: –ø—Ä–æ–Ω–∞–ª–∞–∂–µ—ö–µ –∑–∞–ø–∏—Å–∞ –±–µ–∑ –≤–µ–∑–µ
```sql
SELECT p.*
FROM products p
LEFT JOIN orders o ON p.id = o.product_id
WHERE o.id IS NULL;
```

### 3. üë§ `EXISTS` —É–º–µ—Å—Ç–æ `IN`
```sql
-- –£–º–µ—Å—Ç–æ
SELECT * FROM users WHERE id IN (SELECT user_id FROM orders);

-- –ë–æ—ô–µ
SELECT * FROM users WHERE EXISTS (
  SELECT 1 FROM orders WHERE orders.user_id = users.id
);
```

### 4. üåê `WITH` (CTE) –∑–∞ –ø–æ–±–æ—ô—à–∞—ö–µ —á–∏—Ç—ô–∏–≤–æ—Å—Ç–∏
```sql
WITH top_customers AS (
  SELECT user_id, COUNT(*) as order_count
  FROM orders
  GROUP BY user_id
  HAVING COUNT(*) > 10
)
SELECT u.* FROM users u
JOIN top_customers t ON u.id = t.user_id;
```

---

# üìÇ –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Å–∞—ö–µ, —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—ò–∞ –∏ —à–∞—Ä–¥–∏–Ω–≥ —É –°–£–ë–î

---

## üåê –û—Å–Ω–æ–≤–Ω–∏ –ø–æ—ò–º–æ–≤–∏

### üîÑ –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Å–∞—ö–µ (Partitioning)
> –ü–æ–¥–µ–ª–∞ **—ò–µ–¥–Ω–µ —Ç–∞–±–µ–ª–µ** –Ω–∞ –ª–æ–≥–∏—á–∫–µ –∏–ª–∏ —Ñ–∏–∑–∏—á–∫–µ –¥–µ–ª–æ–≤–µ (–ø–∞—Ä—Ç–∏—Ü–∏—ò–µ) –ø–æ –æ–¥—Ä–µ—í–µ–Ω–æ–º –ø—Ä–∞–≤–∏–ª—É. –¢–æ –æ–º–æ–≥—É—õ–∞–≤–∞ —É–±—Ä–∑–∞—ö–µ —É–ø–∏—Ç–∞, –ø–æ—ò–µ–¥–Ω–æ—Å—Ç–∞–≤—ô–µ—ö–µ –±—Ä–∏—Å–∞—ö–∞ —Å—Ç–∞—Ä–∏—Ö –ø–æ–¥–∞—Ç–∞–∫–∞ –∏ –ø–æ–±–æ—ô—à–∞—ö–µ —Å–∫–∞–ª–∞–±–∏–ª–Ω–æ—Å—Ç–∏ **—É –æ–∫–≤–∏—Ä—É —ò–µ–¥–Ω–æ–≥ —Å–µ—Ä–≤–µ—Ä–∞**.

- –†–∞–¥–∏ **—É–Ω—É—Ç–∞—Ä —ò–µ–¥–Ω–µ —Ç–∞–±–µ–ª–µ**
- –ü–∞—Ä—Ç–∏—Ü–∏—ò–µ —Å–µ –º–æ–≥—É **–∞—É—Ç–æ–º–∞—Ç—Å–∫–∏ –±–∏—Ä–∞—Ç–∏ —É —É–ø–∏—Ç–∏–º–∞**
- –ö–æ—Ä–∏—Å—Ç–∏ —Å–µ –∑–∞ **–≤–µ–ª–∏–∫–µ –∫–æ–ª–∏—á–∏–Ω–µ** –ø–æ–¥–∞—Ç–∞–∫–∞: –ª–æ–≥–æ–≤–µ, —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—ò—É, –∏—Å—Ç–æ—Ä–∏—ò–µ –æ–ø–µ—Ä–∞—Ü–∏—ò–∞

#### üîπ –í—Ä—Å—Ç–µ –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Å–∞—ö–∞:
| –í—Ä—Å—Ç–∞            | –û–ø–∏—Å |
|------------------|----------|
| **Range**        | –ü–æ –æ–ø—Å–µ–≥—É –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏ (`date < '2023-01-01'`) |
| **List**         | –ü–æ –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏ —É –ª–∏—Å—Ç–∏ (`region IN ('US', 'EU')`) |
| **Hash**         | –ü–æ —Ö–µ—à—É –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏ (`user_id % 4`) |
| **Key (MySQL)**  | –°–ø–µ—Ü–∏—ò–∞–ª–Ω–∞ —Ñ–æ—Ä–º–∞ —Ö–µ—à–∞ —Å–∞ –∞—É—Ç–æ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—ò–æ–º |
| **Composite**    | –ö–æ–º–±–∏–Ω–∞—Ü–∏—ò–∞ –¥–≤–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—ò–µ (–Ω–ø—Ä: Range + Hash) |

#### üìö –ü—Ä–∏–º–µ—Ä —É **MySQL**:
```sql
CREATE TABLE logs (
  id INT,
  created_at DATE
)
PARTITION BY RANGE (YEAR(created_at)) (
  PARTITION p2022 VALUES LESS THAN (2023),
  PARTITION p2023 VALUES LESS THAN (2024)
);
```

#### üìö –ü—Ä–∏–º–µ—Ä —É **PostgreSQL**:
```sql
CREATE TABLE sales (
  id INT,
  region TEXT,
  sale_date DATE
) PARTITION BY LIST (region);

CREATE TABLE sales_us PARTITION OF sales FOR VALUES IN ('US');
CREATE TABLE sales_eu PARTITION OF sales FOR VALUES IN ('EU');
```

> PostgreSQL –ø–æ–¥—Ä–∂–∞–≤–∞ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Å–∞—ö–µ –æ–¥ –≤–µ—Ä–∑–∏—ò–µ 10+

---

## üí† –†–µ–ø–ª–∏–∫–∞—Ü–∏—ò–∞ (Replication)
> –ê—É—Ç–æ–º–∞—Ç—Å–∫–æ **–∫–æ–ø–∏—Ä–∞—ö–µ –ø–æ–¥–∞—Ç–∞–∫–∞** —Å–∞ —ò–µ–¥–Ω–æ–≥ —Å–µ—Ä–≤–µ—Ä–∞ (primary/master) –Ω–∞ –¥—Ä—É–≥–∏ (secondary/replica).

### –ó–∞—à—Ç–æ —ò–µ –ø–æ—Ç—Ä–µ–±–Ω–∞:
- –ü–æ–≤–µ—õ–∞—ö–µ –æ—Ç–ø–æ—Ä–Ω–æ—Å—Ç–∏ –Ω–∞ –æ—Ç–∫–∞–∑–µ (HA)
- –†–∞—Å–ø–æ–¥–µ–ª–∞ –æ–ø—Ç–µ—Ä–µ—õ–µ—ö–∞: —á–∏—Ç–∞—ö–µ —Å–∞ —Ä–µ–ø–ª–∏–∫–∞, –ø–∏—Å–∞—ö–µ –Ω–∞ –º–∞—Å—Ç–µ—Ä
- –ö—Ä–µ–∏—Ä–∞—ö–µ –±–µ–∫–∞–ø–∞ –±–µ–∑ –æ–ø—Ç–µ—Ä–µ—õ–µ—ö–∞ –ø—Ä–æ–¥—É–∫—Ü–∏—ò–µ

### –í—Ä—Å—Ç–µ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—ò–µ:

| –¢–∏–ø              | –ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–µ |
|------------------|-------------|
| **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–∞**   | –ú–∞—Å—Ç–µ—Ä –Ω–µ —á–µ–∫–∞ —Ä–µ–ø–ª–∏–∫—É ‚Üí –º–æ–≥—É –±–∏—Ç–∏ –∫–∞—à—ö–µ—ö–∞ |
| **–ü–æ–ª—É—Å–∏–Ω—Ö—Ä–æ–Ω–∞**| –ú–∞—Å—Ç–µ—Ä —á–µ–∫–∞ –±–∞—Ä 1 –ø–æ—Ç–≤—Ä–¥—É –æ–¥ —Ä–µ–ø–ª–∏–∫–µ |
| **–°–∏–Ω—Ö—Ä–æ–Ω–∞**    | –ú–∞—Å—Ç–µ—Ä —á–µ–∫–∞ —Å–≤–µ —Ä–µ–ø–ª–∏–∫–µ ‚Üí –≤–∏—Å–æ–∫ –∏–Ω—Ç–µ–≥—Ä–∏—Ç–µ—Ç, –∞–ª–∏ –Ω–∏–∂–∞ –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∞ |

#### üìö –ü—Ä–∏–º–µ—Ä –ø–æ–¥–µ—à–∞–≤–∞—ö–∞ —É **MySQL** (GTID-based):
```sql
-- –ù–∞ –º–∞—Å—Ç–µ—Ä—É
SET GLOBAL gtid_mode = ON;
SET GLOBAL enforce_gtid_consistency = ON;
SHOW MASTER STATUS;

-- –ù–∞ —Ä–µ–ø–ª–∏—Ü–∏
CHANGE MASTER TO MASTER_HOST='master_ip',
  MASTER_USER='repl',
  MASTER_PASSWORD='password',
  MASTER_AUTO_POSITION = 1;
START SLAVE;
```

#### üìö –ü—Ä–∏–º–µ—Ä —É **PostgreSQL** (Streaming replication):
```bash
# –ù–∞ –º–∞—Å—Ç–µ—Ä—É (postgresql.conf)
wal_level = replica
max_wal_senders = 5

# –ù–∞ —Ä–µ–ø–ª–∏—Ü–∏ (recovery.conf / standby.signal)
primary_conninfo = 'host=master_ip user=replicator password=secret'
```

---

## üöÄ –®–∞—Ä–¥–∏–Ω–≥ (Sharding)
> –ü–æ–¥–µ–ª–∞ **–ø–æ–¥–∞—Ç–∞–∫–∞ –Ω–∞ —Ä–∞–∑–ª–∏—á–∏—Ç–µ —Ñ–∏–∑–∏—á–∫–µ —Å–µ—Ä–≤–µ—Ä–µ** –ø–æ –Ω–µ–∫–æ–º –∫—Ä–∏—Ç–µ—Ä–∏—ò—É–º—É.  
> –û–≤–æ **–Ω–∏—ò–µ —É–≥—Ä–∞—í–µ–Ω–æ —É SQL**, –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞ —Å–µ –Ω–∞ –Ω–∏–≤–æ—É –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∞ –∏–ª–∏ middleware-–∞.

### –ó–∞—à—Ç–æ —ò–µ –ø–æ—Ç—Ä–µ–±–∞–Ω:
- –•–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–Ω–æ —Å–∫–∞–ª–∏—Ä–∞—ö–µ
- –ü—Ä–µ–≤–∞–∑–∏–ª–∞–∂–µ—ö–µ –æ–≥—Ä–∞–Ω–∏—á–µ—ö–∞ –≤–µ–ª–∏—á–∏–Ω–µ –∏ –æ–ø—Ç–µ—Ä–µ—õ–µ—ö–∞ —ò–µ–¥–Ω–æ–≥ —Å–µ—Ä–≤–µ—Ä–∞

### üîπ –í—Ä—Å—Ç–µ —à–∞—Ä–¥–∏–Ω–≥–∞:

| –í—Ä—Å—Ç–∞             | –ü—Ä–∏–Ω—Ü–∏–ø |
|------------------|---------|
| **–•–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–Ω–∏** | –ü–æ–¥–∞—Ü–∏ —Å–µ –¥–µ–ª–µ **–ø–æ —Ä–µ–¥–æ–≤–∏–º–∞** (–ø–æ user_id, —Ä–µ–≥–∏–æ–Ω–∏–º–∞, –¥–∞—Ç—É–º—É) |
| **–í–µ—Ä—Ç–∏–∫–∞–ª–Ω–∏**   | –¢–∞–±–µ–ª–µ/–∫–æ–ª–æ–Ω–µ —Å–µ –¥–µ–ª–µ –ø–æ —Ä–∞–∑–ª–∏—á–∏—Ç–∏–º –±–∞–∑–∞–º–∞ (–Ω–ø—Ä: profile ‚Üí DB1, logs ‚Üí DB2) |

### –ü—Ä–∏–º–µ—Ä —Ö–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–Ω–æ–≥ —à–∞—Ä–¥–∏–Ω–≥–∞:
```sql
-- users_0, users_1, users_2, users_3 –ø–æ —Ö–µ—à—É user_id % 4
SELECT * FROM users_2 WHERE id = 123;
```
–ò–∑–±–æ—Ä –ø–æ—Ç—Ä–µ–±–Ω–µ —Ç–∞–±–µ–ª–µ —Å–µ –≤—Ä—à–∏ **—É –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∏**, –Ω–∞ –ø—Ä–∏–º–µ—Ä:
```python
shard_id = user_id % 4
query = f"SELECT * FROM users_{shard_id} WHERE id = {user_id}"
```

### –ü–æ–ø—É–ª–∞—Ä–Ω–∏ —Å–∏—Å—Ç–µ–º–∏ –∑–∞ —à–∞—Ä–¥–∏–Ω–≥:
- **Citus** (PostgreSQL –ø—Ä–æ—à–∏—Ä–µ—ö–µ)
- **Vitess** (MySQL —Å–∫–∞–ª–∏—Ä–∞—ö–µ)
- **ProxySQL**, **PgBouncer** + —Ä—É—á–Ω–æ —Ä—É—Ç–∏—Ä–∞—ö–µ
- **Custom sharding layer** (–Ω–∞ –Ω–∏–≤–æ—É backend-–∞)

---

## üîç –ü–æ—Ä–µ—í–µ—ö–µ –ø—Ä–∏—Å—Ç—É–ø–∞

| –ü—Ä–∏—Å—Ç—É–ø       | –û–±–∏–º | –ö–æ—Ä–∏—Å—Ç–∏ —Å–µ –∑–∞ | –ù–∏–≤–æ |
|---------------|---------|------------------|---------|
| Partitioning  | –à–µ–¥–∞–Ω —Å–µ—Ä–≤–µ—Ä | –ü–æ–≤–µ—õ–∞—ö–µ –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∏, –∞—Ä—Ö–∏–≤–∏—Ä–∞—ö–µ | SQL/–°–£–ë–î |
| Replication   | –í–∏—à–µ —Å–µ—Ä–≤–µ—Ä–∞ | HA, —Å–∫–∞–ª–∏—Ä–∞—ö–µ —á–∏—Ç–∞—ö–∞ | SQL/–°–£–ë–î |
| Sharding      | –í–∏—à–µ —Å–µ—Ä–≤–µ—Ä–∞ | –°–∫–∞–ª–∏—Ä–∞—ö–µ –ø–∏—Å–∞—ö–∞, –æ–±–∏–º –ø–æ–¥–∞—Ç–∞–∫–∞ | –ê–ø–ª–∏–∫–∞—Ü–∏—ò–∞/Proxy |



---

# üìä –ö–æ–ª–æ–Ω—Å–∫–µ –±–∞–∑–µ –ø–æ–¥–∞—Ç–∞–∫–∞ –∏ ClickHouse

---

## üß± –®—Ç–∞ —ò–µ –∫–æ–ª–æ–Ω—Å–∫–∞ (column-oriented) –ë–î?

**–ö–æ–ª–æ–Ω—Å–∫–∞ –°–£–ë–î** ‚Äî —Ç–æ —ò–µ –±–∞–∑–∞ –ø–æ–¥–∞—Ç–∞–∫–∞ —É –∫–æ—ò–æ—ò —Å–µ –ø–æ–¥–∞—Ü–∏ —á—É–≤–∞—ò—É **–ø–æ –∫–æ–ª–æ–Ω–∞–º–∞**, –∞ –Ω–µ –ø–æ —Ä–µ–¥–æ–≤–∏–º–∞.

### üîç –†–∞–∑–ª–∏–∫–µ –æ–¥ –∫–ª–∞—Å–∏—á–Ω–∏—Ö (—Ä–µ–¥–Ω–∏—Ö) –°–£–ë–î:
| –ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞         | Row-oriented (PostgreSQL, MySQL) | Column-oriented (ClickHouse) |
|------------------------|----------------------------------|-------------------------------|
| –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—ò–∞ —Å–∫–ª–∞–¥–∏—à—Ç–µ—ö–∞   | –ü–æ —Ä–µ–¥–æ–≤–∏–º–∞ (—Å–≤–∞ –ø–æ—ô–∞ –∑–∞—Ä–µ–¥–æ–º)     | –ü–æ –∫–æ–ª–æ–Ω–∞–º–∞ (—Å–≤–µ –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏ —ò–µ–¥–Ω–µ –∫–æ–ª–æ–Ω–µ —á—É–≤–∞—ò—É —Å–µ –∑–∞—ò–µ–¥–Ω–æ) |
| –ß–∏—Ç–∞—ö–µ                 | –ï—Ñ–∏–∫–∞—Å–Ω–æ –ø—Ä–∏ –∏–∑–±–æ—Ä—É —Ü–µ–ª–∏—Ö —Ä–µ–¥–æ–≤–∞ | –ï—Ñ–∏–∫–∞—Å–Ω–æ –ø—Ä–∏ –∞–Ω–∞–ª–∏—Ç–∏—Ü–∏ –ø–æ –Ω–µ–∫–æ–ª–∏–∫–æ –∫–æ–ª–æ–Ω–∞ |
| –ü–∏—Å–∞—ö–µ                 | –î–æ–±—Ä–æ –æ–¥–≥–æ–≤–∞—Ä–∞ –∑–∞ OLTP         | –û–ø—Ç–∏–º–∏–∑–æ–≤–∞–Ω–æ –∑–∞ –≤–µ–ª–∏–∫–µ –±–∞—Ç—á–µ–≤–µ (OLAP) |
| –ü–æ–¥—Ä—à–∫–∞ —Ç—Ä–∞–Ω—Å–∞–∫—Ü–∏—ò–∞   | –ü–æ—Ç–ø—É–Ω–∞ (ACID)                    | –î–µ–ª–∏–º–∏—á–Ω–∞ (eventual consistency, no UPDATE) |

–£ ClickHouse-—É —Å–≤–∞–∫–∞ –∫–æ–ª–æ–Ω–∞ —Å–µ —á—É–≤–∞ –æ–¥–≤–æ—ò–µ–Ω–æ, —É –≤–∏–¥—É —Å–µ–≥–º–µ–Ω–∞—Ç–∞ (part-–æ–≤–∞), —à—Ç–æ –æ–º–æ–≥—É—õ–∞–≤–∞ –µ—Ñ–∏–∫–∞—Å–Ω–æ —á–∏—Ç–∞—ö–µ —Å–∞–º–æ –ø–æ—Ç—Ä–µ–±–Ω–∏—Ö –∫–æ–ª–æ–Ω–∞ –∏ –∏–∑–±–µ–≥–∞–≤–∞—ö–µ —á–∏—Ç–∞—ö–∞ –Ω–µ–ø–æ—Ç—Ä–µ–±–Ω–∏—Ö –ø–æ–¥–∞—Ç–∞–∫–∞. –°–≤–∞–∫–∞ –∫–æ–ª–æ–Ω–∞ —ò–µ —Ñ–∞—ò–ª –∏–ª–∏ –≥—Ä—É–ø–∞ —Ñ–∞—ò–ª–æ–≤–∞ –Ω–∞ –¥–∏—Å–∫—É. –¢–æ —á–∏–Ω–∏ ClickHouse –ø–æ—Å–µ–±–Ω–æ –±—Ä–∑–∏–º –ø—Ä–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—ò–∏ –∏ —Ñ–∏–ª—Ç—Ä–∏—Ä–∞—ö—É –ø–æ –ø–æ—ò–µ–¥–∏–Ω–∞—á–Ω–∏–º –ø–æ—ô–∏–º–∞.

---

## üöÄ ClickHouse: –≤–∏—Å–æ–∫–æ–ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–Ω–∞ –∞–Ω–∞–ª–∏—Ç–∏—á–∫–∞ –ë–î

**ClickHouse** ‚Äî —Ç–æ —ò–µ open-source –∫–æ–ª–æ–Ω—Å–∫–∞ –°–£–ë–î, —Ä–∞–∑–≤–∏—ò–µ–Ω–∞ —É –à–∞–Ω–¥–µ–∫—Å—É, –Ω–∞–º–µ—ö–µ–Ω–∞ –∑–∞ –æ–±—Ä–∞–¥—É **–∞–Ω–∞–ª–∏—Ç–∏—á–∫–∏—Ö —É–ø–∏—Ç–∞ —É —Ä–µ–∞–ª–Ω–æ–º –≤—Ä–µ–º–µ–Ω—É** –Ω–∞ –æ–≥—Ä–æ–º–Ω–∏–º –∫–æ–ª–∏—á–∏–Ω–∞–º–∞ –ø–æ–¥–∞—Ç–∞–∫–∞.

### üîπ –ö—ô—É—á–Ω–µ –∫–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–µ:
- –£–ª—Ç—Ä–∞–±—Ä–∑–∏ –∞–Ω–∞–ª–∏—Ç–∏—á–∫–∏ SELECT-–æ–≤–∏
- –ö–æ–ª–æ–Ω—Å–∫–æ —Å–∫–ª–∞–¥–∏—à—Ç–µ—ö–µ + –∫–æ–º–ø—Ä–µ—Å–∏—ò–∞ –ø–æ–¥–∞—Ç–∞–∫–∞
- –ù–µ –∑–∞—Ö—Ç–µ–≤–∞ –∫–ª–∞—Å–∏—á–Ω–µ B-tree –∏–Ω–¥–µ–∫—Å–µ, –∞–ª–∏ –∫–æ—Ä–∏—Å—Ç–∏ **—Å–ø–∞—Ä—Å-–∏–Ω–¥–µ–∫—Å–µ (primary indexes)** –∑–∞ —É–±—Ä–∑–∞—ö–µ –ø—Ä–∏—Å—Ç—É–ø–∞
- –ü–æ–¥—Ä—à–∫–∞ –∑–∞ –∫–ª–∞—Å—Ç–µ—Ä–µ, —à–∞—Ä–¥–∏–Ω–≥ –∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—ò—É
- SQL-—Å–ª–∏—á–∞–Ω —ò–µ–∑–∏–∫ —É–ø–∏—Ç–∞
- –à–µ–¥–Ω–æ—Å—Ç–∞–≤–∞–Ω –ø—Ä–æ—Ç–æ–∫–æ–ª: –º–æ–∂–µ —Å–µ —Ä–∞–¥–∏—Ç–∏ –ø—Ä–µ–∫–æ HTTP/HTTPS, TCP, Native API

---

## üß† –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∞ –ø–æ–¥–∞—Ç–∞–∫–∞

- –¢–∞–±–µ–ª–µ —Å–µ –∫—Ä–µ–∏—Ä–∞—ò—É —Å–∞ –Ω–∞–≤–æ—í–µ—ö–µ–º **ENGINE** (–Ω–ø—Ä: `MergeTree`)
- –°–≤–∏ –ø–æ–¥–∞—Ü–∏ —Å–µ **—Å–∞–º–æ –¥–æ–¥–∞—ò—É** ‚Äî –Ω–µ–º–∞ UPDATE –∏–ª–∏ DELETE —É —É–æ–±–∏—á–∞—ò–µ–Ω–æ–º —Å–º–∏—Å–ª—É
- **Primary Key** —Å–µ –∫–æ—Ä–∏—Å—Ç–∏ –∑–∞ —Å–æ—Ä—Ç–∏—Ä–∞—ö–µ –ø–æ–¥–∞—Ç–∞–∫–∞ –∏ –∫—Ä–µ–∏—Ä–∞—ö–µ **—Å–ø–∞—Ä—Å-–∏–Ω–¥–µ–∫—Å–∞** (–Ω–µ –æ–±–µ–∑–±–µ—í—É—ò–µ —ò–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–æ—Å—Ç!)

### üìå –ö–∞–∫–æ —Ä–∞–¥–∏ primary index —É ClickHouse-—É:
- –¢–æ –Ω–∏—ò–µ –∏–Ω–¥–µ–∫—Å —É –∫–ª–∞—Å–∏—á–Ω–æ–º —Å–º–∏—Å–ª—É (–∫–∞–æ B-tree –∏–ª–∏ Hash).
- –ü—Ä–µ–¥—Å—Ç–∞–≤—ô–∞ **–Ω–∏–∑ –º–∞—Ä–∫–µ—Ä–∞ (marks)** –∫–æ—ò–∏ —É–∫–∞–∑—É—ò—É –Ω–∞ –ø–æ–ª–æ–∂–∞—ò –ø–æ–¥–∞—Ç–∞–∫–∞ –Ω–∞ –¥–∏—Å–∫—É –ø–æ —Å–æ—Ä—Ç–∏—Ä–∞–Ω–æ–º –∫—ô—É—á—É.
- –ü—Ä–æ–≤–µ—Ä–∞ —Ñ–∏–ª—Ç–µ—Ä–∞ WHERE –ø—Ä–≤–æ —Å–µ –≤—Ä—à–∏ –ø–æ –æ–≤–∏–º –º–∞—Ä–∫–µ—Ä–∏–º–∞, –¥–∞ –±–∏ —Å–µ **–ø—Ä–µ—Å–∫–æ—á–∏–ª–∏ –Ω–µ–ø–æ—Ç—Ä–µ–±–Ω–∏ –±–ª–æ–∫–æ–≤–∏** ‚Äî —Ç–æ —É–±—Ä–∑–∞–≤–∞ —É–ø–∏—Ç–µ.